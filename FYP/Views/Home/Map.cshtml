@model IEnumerable<FYP.Models.City>

@{
    ViewData["Title"] = "Map";
}

<h2>Select a city</h2>
<div id="mapid"></div>
<!--Reference: https://leafletjs.com/examples/quick-start/ -->
<script>
    var mymap = L.map('mapid').setView([0, 0], 2);

    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 18,
        id: 'mapbox/streets-v11',
        accessToken: 'pk.eyJ1Ijoicm9zc25ob3JnYW45OCIsImEiOiJjazZjajluZHIwc2g4M2VtdmNiYTJwM2JpIn0.g1KRBVBufFkGMy3kKFZvBw'
    }).addTo(mymap);
</script>

@foreach (var item in Model)
{
    <script>
        var marker = L.marker([@item.Latitude, @item.Longitude]).addTo(mymap);
        marker.bindPopup('<b><a href="/Home/CityProfile/@item.CityId" >@item.Name</a></b><br>@item.Country.Name');
    </script>
}

